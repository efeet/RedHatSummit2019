<html>
<head>
<title>Ajax POST HTTP Request</title>
<SCRIPT TYPE="text/javascript" LANGUAGE="JavaScript"> 
function ajaxRequest(){
     var activexmodes=["Msxml2.XMLHTTP", "Microsoft.XMLHTTP"]; //activeX versions to check for in IE
     if (window.ActiveXObject){ //Test for support for ActiveXObject in IE first (as XMLHttpRequest in IE7 is broken)
      for (var i=0; i<activexmodes.length; i++){
       try{
        return new ActiveXObject(activexmodes[i]);
       }
       catch(e){
        //suppress error
       }
      }
     }
     else if (window.XMLHttpRequest) // if Mozilla, Safari etc
      return new XMLHttpRequest();
     else
      return false;
}
 
function ajaxpost(){
    var mypostrequest=new XMLHttpRequest();
    mypostrequest.onreadystatechange=function(){
     if (this.readyState==4){
      if (this.status==200){
        alert("XXXX" + this.responseText + "XXX" + this.status);
        document.getElementById("result").innerHTML = this.responseText;
      }
      else{
       alert("An error has occured making the request " + this.status + " " + this.readyState);
      }
     }
    }

    mypostrequest.open("POST", "https://FUNCTIONNAME.azurewebsites.net/api/HttpTrigger", true);
    mypostrequest.setRequestHeader("Content-type", "text/plain");
    mypostrequest.send(document.getElementById("playbook").value);
}
 
</SCRIPT>
</head>
<body>

  Enter your playbook here:
  <div/>
  <textarea id="playbook" name="userId"></textarea>
  <div/>
  <input id="clickMe" type="button" value="clickme" onclick="ajaxpost();" />
  <div/>
  <div id="result"></div>
</body>
</html>